<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blind Taste Test: Can Structured Thinking Make AI Reason Better?</title>
  <meta name="description" content="We tested a structured thinking framework for AI on real business and strategy problems. The responses are anonymized. You judge which is better.">
  <meta property="og:title" content="Blind Taste Test: Can Structured Thinking Make AI Reason Better?">
  <meta property="og:description" content="We tested a structured thinking framework for AI on real business and strategy problems. Responses anonymized. You be the judge.">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Blind Taste Test: Can Structured Thinking Make AI Reason Better?">
  <meta name="twitter:description" content="5 blind A/B comparisons. Same AI, same model. One used a thinking framework. Can you tell which?">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§ª</text></svg>">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            surface: { 50: '#fafafa', 100: '#f4f4f5', 200: '#e4e4e7', 300: '#d4d4d8', 400: '#a1a1aa', 500: '#71717a', 600: '#52525b', 700: '#3f3f46', 800: '#27272a', 900: '#18181b', 950: '#09090b' }
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; }
    .prose { color: #d4d4d8; font-size: 0.95rem; line-height: 1.75; }
    .prose h3 { font-size: 1.2rem; font-weight: 700; color: #fafafa; margin: 1.5rem 0 0.5rem; }
    .prose h4 { font-size: 1.05rem; font-weight: 600; color: #fafafa; margin: 1.25rem 0 0.4rem; }
    .prose h5 { font-size: 0.95rem; font-weight: 600; color: #e4e4e7; margin: 1rem 0 0.35rem; }
    .prose p { margin: 0.6rem 0; }
    .prose ul, .prose ol { margin: 0.5rem 0; padding-left: 1.5rem; }
    .prose ul { list-style-type: disc; }
    .prose ol { list-style-type: decimal; }
    .prose li { margin: 0.2rem 0; line-height: 1.65; }
    .prose li > ul, .prose li > ol { margin: 0.2rem 0; }
    .prose strong { font-weight: 600; color: #fafafa; }
    .prose em { font-style: italic; color: #e4e4e7; }
    .prose code { font-family: 'SF Mono', 'Fira Code', 'Fira Mono', monospace; background: rgba(255,255,255,0.07); padding: 0.15em 0.35em; border-radius: 4px; font-size: 0.88em; color: #e4e4e7; }
    .prose table { width: 100%; border-collapse: collapse; margin: 0.75rem 0; font-size: 0.88rem; }
    .prose th, .prose td { padding: 0.45rem 0.6rem; border: 1px solid rgba(255,255,255,0.1); text-align: left; }
    .prose th { font-weight: 600; background: rgba(255,255,255,0.04); color: #fafafa; }
    .prose td { color: #d4d4d8; }
    .prose blockquote { border-left: 3px solid rgba(255,255,255,0.15); padding-left: 1rem; margin: 0.75rem 0; color: #a1a1aa; }
    .prose hr { border: none; border-top: 1px solid rgba(255,255,255,0.08); margin: 1.5rem 0; }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    .anim-fade { animation: fadeUp 0.35s ease-out both; }
    .anim-scale { animation: scaleIn 0.3s ease-out both; }
    .anim-delay-1 { animation-delay: 0.08s; }
    .anim-delay-2 { animation-delay: 0.16s; }
    .anim-delay-3 { animation-delay: 0.24s; }

    .option-btn { transition: all 0.15s ease; }
    .option-btn:hover { background: rgba(255,255,255,0.06); }
    .option-btn.selected { background: rgba(59,130,246,0.15); border-color: #3b82f6; color: #93c5fd; }

    .tab-btn { transition: all 0.15s ease; }
    .tab-btn.active { color: #fafafa; border-color: #3b82f6; }

    .response-col { max-height: 70vh; overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.1) transparent; }
    .response-col::-webkit-scrollbar { width: 6px; }
    .response-col::-webkit-scrollbar-track { background: transparent; }
    .response-col::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }

    @media (max-width: 1023px) {
      .response-col { max-height: none; overflow-y: visible; }
    }

    .reveal-badge { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: 600; }
    .badge-think { background: rgba(34,197,94,0.15); color: #4ade80; border: 1px solid rgba(34,197,94,0.3); }
    .badge-organic { background: rgba(59,130,246,0.15); color: #93c5fd; border: 1px solid rgba(59,130,246,0.3); }

    .vote-pill { display: inline-block; padding: 0.15rem 0.5rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
    .pill-a { background: rgba(249,115,22,0.15); color: #fb923c; }
    .pill-b { background: rgba(168,85,247,0.15); color: #c084fc; }
    .pill-tie { background: rgba(255,255,255,0.08); color: #a1a1aa; }
  </style>
</head>
<body class="bg-surface-950 text-surface-50 min-h-screen">

<!-- ================================================ -->
<!-- RESPONSE CONTENT (stored as raw text)            -->
<!-- ================================================ -->

<script type="text/markdown" id="p1a">
#### Navigating the Series B Scaling Decision

##### The Core Tension Is Real -- But It's a False Binary

Both your co-founder and your VP of Engineering are right, and that's exactly the problem. The board didn't give you $25M to sit on it, and your competitors aren't waiting. But your VP of Engineering has scar tissue for a reason -- poorly executed hypergrowth is the single most common way funded startups destroy themselves between Series B and Series C. The answer isn't "hire fast" or "hire slow." It's **hire deliberately, in sequenced waves, with infrastructure that can absorb the growth**.

The real question isn't whether to scale to 50. It's *in what order, at what pace, and with what scaffolding*.

##### Start With the Honest Capacity Assessment

Before you post a single job listing, spend two weeks doing something that will feel painfully slow but will save you months of chaos later: figure out what's actually bottlenecking growth right now.

At 15 people, you likely have three to five individuals who are single points of failure -- they hold critical context, they make key decisions, and they are already drowning. If you hire 10 people next month, those same five people now have to onboard and manage new hires while maintaining their current output. This is the death spiral your VP of Engineering is warning about. Productivity doesn't just stall -- it actively declines because your best people become full-time onboarding machines.

Map out your current org honestly. Identify who is overloaded, what functions are missing entirely (you probably don't have dedicated HR, recruiting, or operations at 15 people), and where new hires would generate independent value versus where they'd require months of hand-holding from existing staff.

##### Sequence the Hiring in Three Waves

**Wave 1 (Months 1-4): The Enablers -- Hire 8-10 People.** Your first hires should be the people who *make future hiring possible*. A Head of People/Talent who has scaled a company through this exact stage before, two to three senior engineers hired as tech leads (not individual contributors), an operations hire, and three to four individual contributors in your most acute bottleneck area.

**Wave 2 (Months 5-10): The Builders -- Hire 12-15 People.** By now you should have onboarding processes, a recruiting pipeline, and team leads in place. Hire across functions according to what the data from your first six months of post-funding operation is telling you -- not what the board projected in a spreadsheet before the round closed.

**Wave 3 (Months 11-18): The Scalers -- Hire 10-12 People.** Fill remaining gaps, add depth to teams that have proven their model, and start building out functions you'll need for Series C readiness.

##### Address the Board Directly

Go back to them with a sequenced plan and show them *why* front-loading enablement hires actually gets to the revenue target faster than a flat hiring curve. Use specific examples: "If we hire 10 engineers in month two without tech leads and onboarding processes, our data from comparable companies shows we'll lose 30-40% of them within a year, and our existing team's velocity will drop by 25% for at least two quarters."

Most experienced board members have seen this movie before. They'll respect a plan that shows you've thought about *absorption capacity*, not just headcount numbers.

##### Protect What Got You Here

Your VP of Engineering's concern about culture isn't soft or sentimental -- it's a hard operational risk. At 15 people, your culture is your operating system. Concrete steps: write down what's currently implicit (values, decision-making norms, what "good work" looks like), make your co-founder and VP co-owners of the scaling plan, and set a quality bar you do not compromise on. The moment you lower your hiring bar "just to fill the seat," you've started the degradation cycle.

##### The Metric That Actually Matters

Track **time to independent productivity** for every new hire. If it's trending up -- if each new person is taking longer to become useful than the last -- you're hiring faster than your organization can absorb. Slow down immediately regardless of what the plan says. This single metric captures onboarding quality, management capacity, role clarity, and cultural integration in one number.

The companies that die during this stage don't die from hiring too slowly. They die from hiring 35 people who were the wrong people, at the wrong time, into an organization that had no way to make them successful.
</script>

<script type="text/markdown" id="p1b">
#### Separating Facts from Narratives in the Scaling Decision

##### What's Actually Known

**Facts:** $25M in new capital, 15 employees, board target of 50 in 18 months, two senior leaders with directly opposing views, enough runway to make deliberate choices.

**Assumptions worth surfacing:**
- That tripling headcount is the correct lever for hitting growth targets. Headcount is a *proxy* for output. The board likely cares about revenue, market penetration, or product milestones -- not the number of W-2s you issue. This conflation is the single most dangerous assumption in the scenario.
- That "market share" is actually available to capture right now and that speed of hiring is the bottleneck. It may be that product-market fit refinement, go-to-market motion, or infrastructure maturity is the real constraint.
- That your co-founder and VP of Engineering are describing the same timeframe. Your co-founder is thinking in quarters. Your VP is thinking in years. Both can be right simultaneously.

**The uncomfortable fact:** Most Series B companies that fail do not fail because they hired too slowly. They fail because they hired 35 people into an organization that had not yet built the management layer, processes, or cultural scaffolding to absorb them. The wreckage is quiet -- it shows up as missed deadlines 9 months later, not as a dramatic collapse.

##### Non-Obvious Risks

**The "Body Count Theater" trap.** You hire 35 people, report progress to the board as headcount growth, and mistake activity for output. Six months in, your actual velocity per capita has dropped 40% because every new hire requires onboarding time from your best existing people.

**The cultural dilution cliff.** Culture does not degrade linearly. Somewhere around 25-30 people, you cross a threshold where new hires outnumber the people who carry the original context. If you cross that threshold too fast, the newcomers define the culture by default.

**The middle-management vacuum.** Going from 15 to 50 requires at least 4-6 new managers. If you hire individual contributors first and promote from within later, you get months of chaos while new managers learn. If you hire managers first, they sit idle and frustrated with no team. The sequencing of this layer is the hardest operational problem and almost nobody plans for it.

**The "VP of Engineering was right" scenario plays out silently.** You will not get a clear signal. You will get vague indicators -- longer sprint cycles, more meetings, declining quality, rising attrition among early employees -- that each individually seem manageable but collectively represent organizational decay.

##### Questions That Change Everything

- **"What are the 3 specific milestones the board actually cares about, and what is the minimum team composition to hit each one?"** Force the conversation from headcount to capability. You may find that 30 well-chosen people accomplish what the board wants faster than 50 poorly sequenced hires.
- **"What is our current onboarding capacity -- how many people can we absorb per month without degrading existing team output?"** Most 15-person companies can absorb 2-3 new hires per month effectively.
- **"Which roles are force multipliers and which are linear additions?"** A great recruiter at month 1 is worth more than three individual contributors at month 1.
- **"What did our VP of Engineering see go wrong at those two previous companies, specifically?"** The precise failure pattern dictates the precise remedy.

##### Cross-Domain Patterns and Practical Approach

This is a throughput-versus-capacity problem, and it appears in manufacturing (The Mythical Man-Month), military strategy (force concentration vs. supply lines), and ecology (carrying capacity). The universal lesson: **the rate of integration is the binding constraint, not the rate of acquisition.**

**Practical phased approach:** Months 1-4 hire 8-10 (prioritize management layer, recruiting capacity, highest-leverage function). Months 5-10 hire 12-15 (absorption rate increases because you built scaffolding). Months 11-18 hire 10-12 (adjust based on actual performance data). Gets you to 45-52 people -- hitting or closely approaching the board's target -- but with a back-loaded curve that respects organizational capacity.

Your co-founder and VP of Engineering are both right, and your job is synthesis: hire aggressively *and* build absorption capacity simultaneously.

##### Where This Analysis Might Be Wrong

- **May underweight competitive urgency.** In a true winner-take-all market, a 50-person company with 60% efficiency beats a 35-person company with 95% efficiency simply because of coverage and speed. Know which market you are in.
- **Assumes your current 15 people are strong.** If your existing team has significant performance gaps, you may need to hire fast partly to *replace* underperformers.
- **Biased toward caution.** The VP's war stories are vivid and emotionally compelling. Survivorship bias runs in both directions -- we do not hear from founders who hired cautiously and watched a competitor eat their market. Weigh both failure modes honestly.
</script>

<script type="text/markdown" id="p2a">
#### A Build vs. Buy Framework for a 15-Person Series B Team

The reason this debate recurs is that both sides are right in the abstract. The "build" camp is correct that vendor lock-in is real. The "buy" camp is correct that engineering time is your scarcest resource. What you need is a shared rubric that forces the conversation into concrete terms rather than philosophical ones.

##### The Core Question: Is This Your Business?

Before anything else, ask whether the capability in question is a differentiator for your product. Authentication almost certainly is not. Search might be, depending on your product. Email delivery never is. If something is not a core differentiator, the default answer should be buy, and the burden of proof should fall on anyone arguing to build. This single filter resolves most debates immediately.

##### A Scoring Rubric Worth Using

For the cases that are not immediately obvious, evaluate across five dimensions. Score each 1-3 and let the totals guide the conversation.

**1. Strategic differentiation (weight: high)** Does building this in-house create a meaningful competitive advantage? If your product is a developer platform and search quality is central to the experience, that scores a 3. If you need search for an internal admin panel, that is a 1. Be honest here. Teams consistently overestimate how much their implementation of a commodity feature matters to customers.

**2. Engineering cost to build AND maintain (weight: high)** Estimate not just the initial build, but three years of maintenance, on-call, upgrades, security patches, and scaling work. A 15-person team that spends two engineers maintaining an auth system for six months has effectively reduced headcount by 13% on a capability that produces zero customer value. Convert this to dollars. It is almost always more expensive than the SaaS bill.

**3. Vendor lock-in and switching cost (weight: medium)** Ask specifically: if we needed to switch vendors in 18 months, what would that cost? For auth, you are wrapping an SDK behind your own interface anyway. Switching from Auth0 to Clerk is a bounded project. For something deeply embedded like a database, lock-in matters more. Score based on actual switching cost, not theoretical discomfort.

**4. Scaling economics (weight: low at your stage)** Yes, SendGrid gets expensive at 50 million emails per month. You are not sending 50 million emails per month. Model the cost at 3x your current scale and 10x your current scale. If the vendor cost becomes genuinely untenable at 10x, note it but do not let it drive the decision today. You can migrate later with more resources and more information.

**5. Data sensitivity and compliance (weight: context-dependent)** If you are in healthcare or fintech, keeping certain data flows in-house may be a regulatory requirement or significantly simplify your compliance story. This can legitimately tip the balance toward building, but only for the specific components that touch regulated data.

##### How to Apply This in Practice

When the debate surfaces, require the proposer (whether build or buy) to fill out a one-page doc covering those five dimensions with actual numbers: estimated engineering weeks, annual vendor cost, switching cost estimate, and a clear statement of what differentiating value building in-house provides. Review it as a team. The numbers usually make the answer obvious.

For your three specific examples:

- **Authentication**: Buy. This is a solved problem, it is not your differentiator, and the security maintenance burden alone justifies the vendor cost. Wrap the SDK behind a thin abstraction layer to limit lock-in.
- **Email delivery**: Buy. There is no scenario where a 15-person team should be managing SMTP infrastructure. The cost at scale argument does not apply until you are orders of magnitude larger.
- **Search**: This one depends on your product. If search quality is something customers evaluate you on, consider building on Elasticsearch (managed, not self-hosted) so you control relevance tuning. If search is a secondary feature, use Algolia and move on.

##### Making It Stick as a Team Norm

Document the framework in your engineering handbook and reference it explicitly when the debate comes up. The goal is not to eliminate discussion but to channel it into structured evaluation instead of recurring philosophical arguments. Assign a decision owner for each case, give them a week to produce the one-pager, and then make the call and move on.

The meta-principle for a Series B startup is this: your competitive advantage comes from shipping your product faster than competitors, not from owning every layer of your stack. Every hour spent rebuilding a commodity is an hour not spent on what makes your product worth buying.
</script>

<script type="text/markdown" id="p2b">
#### The Real Variables in the Equation

A 15-person engineering team at a Series B startup has finite engineering hours -- likely fewer than 30,000 productive hours per year across the entire team. Every hour spent building commodity infrastructure is an hour not spent on the product that convinced investors to fund the company. That is the only fact that matters at the foundation level.

Strip away the rhetoric and the debate reduces to a single variable: **is the component in question a source of competitive differentiation?** Authentication, email delivery, and search are almost never differentiators for a Series B startup. They are table stakes. The "build" camp is not actually arguing about these specific services -- they are expressing an anxiety about control and future flexibility that deserves to be addressed, but not by writing an authentication system from scratch.

The assumptions worth surfacing: the "cost at scale" argument presupposes that the company will reach a scale where vendor pricing becomes prohibitive. Most Series B startups will either fail, get acquired, or reach a scale where they can afford to migrate deliberately. Optimizing for a cost curve you may never reach is a form of premature optimization applied to business decisions.

##### The Maintenance Iceberg Nobody Is Pricing In

The "build" camp consistently underestimates total cost of ownership by 3-5x. A custom authentication system is not just the initial build. It is every CVE patch, every compliance audit, every edge case around password reset flows, MFA token rotation, session management across devices, and the on-call rotation when it breaks at 2 AM. It is the knowledge that concentrates in one or two engineers who become single points of failure. It is the onboarding tax for every new hire who has to learn your bespoke system instead of a well-documented third-party SDK.

The underappreciated risk is not vendor lock-in. It is **internal lock-in** -- the gravitational pull of maintained systems that consume increasing engineering attention while delivering zero competitive advantage. Three custom infrastructure systems, each demanding 10-15% of one engineer's time, effectively remove half an engineer from product work permanently.

Vendor lock-in is real but overstated. A well-architected integration wraps the third-party service behind an internal interface. Swapping SendGrid for Postmark behind a `MailService` abstraction is a week of work. Replacing a homegrown email delivery pipeline with queuing, retry logic, bounce handling, and deliverability monitoring is a quarter.

#### Asking the Right Questions

The team is asking "build or buy?" when they should be asking: **"What is the last responsible moment to make this irreversible?"** Most buy decisions are easily reversible. Most build decisions are not, because sunk cost psychology kicks in.

A more productive question: "If we hired two more engineers tomorrow, would we assign them to building an auth system or to our core product?" If the answer is obviously the product, you have your answer about where existing engineers should spend their time.

An outsider would ask: "Why does a 15-person team keep having this debate at all? Shouldn't you have a default stance?" And they would be right.

#### From Recurring Debate to Default Stance

This debate is a symptom of a missing engineering strategy document. The team relitigates the same philosophical argument because there is no shared principle to appeal to. The solution is not to win the argument once -- it is to establish a decision framework with clear criteria and make it part of your engineering culture.

The framework should codify a **default-to-buy** posture with explicit criteria for exceptions. Build only when: (1) the component is a core differentiator, (2) no existing solution meets non-negotiable technical requirements after genuine evaluation, or (3) the integration cost of the third-party solution exceeds the build cost by a meaningful margin, including two years of projected maintenance.

This pattern also connects to how high-performing infrastructure teams at companies like Stripe and Shopify operated at comparable stages -- they bought everything that was not payments or commerce, respectively, and built only what directly served their moat.

#### The Blind Spot

The dimension most likely underweighted here is morale and growth. Engineers who never build infrastructure may stagnate technically, and the "build" camp may partly be expressing a desire for challenging systems work. That is legitimate and should be addressed through architecture of the core product, not by building commodity services. The belief worth revisiting is that "build vs. buy" is a technical decision. It is a resource allocation decision dressed in technical language.

**Confidence:** High for teams at this size and stage. Drops if the startup's core product is itself infrastructure or developer tools, where building these systems yields reusable expertise.

**Worth investigating next:**
1. Which current homegrown systems are already consuming disproportionate maintenance time?
2. What is your actual projected scale in 18 months, and does any vendor's pricing become untenable?
3. Have the engineers advocating for "build" been given sufficiently challenging problems in the core product?
4. Does your architecture already use interface abstractions that would make future vendor swaps low-cost?
</script>

<script type="text/markdown" id="p3a">
#### Navigating the Pivot-or-Persist Decision

##### The Flatline Is the Real Signal

Three quarters of flat growth actually means something. $40K MRR with 200 customers is roughly $200/month average revenue per account. That's a low-ACV product, which means you need volume to build a real business. And volume has stopped growing despite continued investment. That's not a plateau -- that's a ceiling.

When a B2B SaaS product flatlines despite consistent product improvements and marketing spend, there are really only a few explanations: your TAM in this segment is smaller than you thought, you have a positioning problem rather than a product problem, or your unit economics don't support the sales motion required.

The team members arguing for "better sales execution" need to answer a hard question: **what specifically would change?** Three quarters of data is enough to know that incremental optimization isn't going to produce a step-change in trajectory.

##### The Unexpected Inbound Is Worth More Than You Think

Unprompted inbound interest is the most valuable signal in early-stage business. It means people are actively seeking a solution, finding you without being pushed, and self-selecting into your product. That's the opposite of what's happening in your current market. But inbound interest is not the same as a validated business.

##### The Decision Framework: Run a 90-Day Parallel Experiment

Don't make this a binary choice right now.

**Weeks 1-2: Deep discovery on the new segment.** Get on calls with every single inbound lead. Ask what problem they're solving, what they're currently using, how they found you, what they'd pay, and who else in their organization cares.

**Weeks 3-4: Size the opportunity.** How large is this new segment? What's the willingness to pay? What's the competitive landscape? What would it take to make the feature a standalone product?

**Weeks 5-12: Build a dedicated micro-team around the new opportunity.** Take two or three people, build a landing page positioned for the new segment, and try to close 10-15 paying customers in 60 days. Set a clear success metric in advance.

Meanwhile, keep the core business running but stop investing in growth experiments there.

##### What Would Make Me Go All-In on the Pivot

After the 90-day experiment, commit to a full pivot if you see three things: the new segment has willingness to pay that's 2-3x your current ARPA, the acquisition cost is materially lower, and the problem you're solving is urgent rather than nice-to-have.

##### Handling the Team Dynamics

Tell the team: "We're not pivoting. We're running an experiment with a clear hypothesis and a deadline." Frame it as intellectual honesty, not abandonment. The data will make the decision, not opinions.

##### The Bigger Lesson

The best founders are relentlessly perseverant but strategically flexible. Your current market gave you your first 200 customers and taught you how to build and ship product. That's not failure -- that's foundation. But a $480K ARR business with no growth isn't a venture-scale outcome. The unexpected inbound is the market telling you something. **The only wrong move is to ignore it because it wasn't in your original plan.**
</script>

<script type="text/markdown" id="p3b">
#### Separating Signal from Noise in the Pivot Decision

##### What's Actually Known

**Facts:** 200 paying customers, $40K MRR, ~$200 average revenue per customer (low-ACV). Growth has flatlined for three consecutive quarters -- a pattern, not a blip. Product improvements and marketing spend continued through the stall. Inputs went in; outputs did not follow. A secondary feature is generating unsolicited inbound interest.

**Assumptions worth challenging:**
- That 200 customers represent a viable, scalable market. They might represent the entire addressable population willing to pay $200/month for this solution.
- That "consistent product improvements" were improvements the market actually wanted. Feature velocity is not the same as product-market fit.
- That "marketing spend" was effective. Spend is not signal.
- That inbound interest represents durable demand rather than curiosity.
- That these are the only two options. The framing itself -- double down vs. pivot -- is a false binary your team has constructed under pressure.

##### Risks People Underestimate

**Doubling down:** The "we just need better sales execution" rationalization. You risk spending another two to three quarters and $150K-$300K proving what the data already suggests.

**Pivoting recklessly:** Inbound interest is intoxicating because it is scarce. You don't know the willingness to pay, the sales cycle, or if the feature can be unbundled. Pivoting fully based on anecdotal inbound is how startups burn remaining runway chasing a mirage.

**Team fracture (the one nobody is talking about):** A team split 50/50 on strategic direction is already in crisis. If you pick one path without a rigorous process, you lose half your team -- either to disengagement or departure.

##### Questions That Change Everything

- **"What if the current market is not stalled -- what if it is saturated?"** If your TAM at this price point is 250-400 customers, you're at 50-80% penetration. No amount of sales execution fixes a small pond.
- **"What would have to be true for the new segment to be 10x better?"** Force the team to articulate specific, falsifiable conditions: larger ACV? Faster sales cycles? Higher retention?
- **"Are we actually two companies pretending to be one?"**
- **"What does our churn and expansion data say?"** Net revenue retention tells you more than top-line MRR. If NRR is above 100%, the current market has life. If below 90%, the existing base is actively decaying and the "flatline" is masking contraction.

##### From Decision Theory to Practical Steps

The "Explore/Exploit" framework from decision theory applies directly. You are choosing how to allocate resources between exploitation (current market) and exploration (new signal). The optimal strategy given flatlined exploitation returns and promising but unvalidated exploration signal: shift allocation toward exploration while maintaining minimal viable exploitation.

**Concrete steps:** Weeks 1-2 interview 15-20 inbound leads AND analyze current NRR, segment concentration, churn predictors. Weeks 3-6 run a 30-day dedicated experiment with 2 people -- set falsifiable hypotheses: "We can close 5 paying customers at $X ACV in 30 days." Week 7 evaluate against pre-committed criteria. This converts a divisive strategic argument into a shared empirical project.

##### Where This Analysis Might Be Wrong

- **Survivorship bias in the analogies.** For every Slack, hundreds of startups chased a shiny new signal and died.
- **The current 200 customers are real.** Walking away from them has real costs -- revenue, reputation, reference-ability.
- **This assumes the team has runway to experiment.** If you have less than six months, the luxury evaporates.
- **May underweight the possibility that better sales execution genuinely is the answer.** If you've never had a dedicated, experienced salesperson, a strong AE could change the trajectory.

**Bottom line:** Do not debate. Test. The data you need to make this decision does not exist yet, and no amount of conference-room argumentation will create it.
</script>

<script type="text/markdown" id="p4a">
#### Designing Your Pricing Strategy: Bridging the Self-Serve and Enterprise Divide

##### The Core Tension Is a False Dichotomy

Your investors and your product lead are both right -- they are just operating on different time horizons. Your product lead is thinking about the next 6 months: build momentum, get data, prove product-market fit broadly. Your investors are thinking about 3-5 years: defensible business with strong unit economics and high lifetime value. The correct answer is to design a pricing architecture that serves both simultaneously.

What you actually have here is a classic "land and expand" setup, and the 30 beta users who love your product are the key.

##### Interrogate Your Beta Users Before Setting Any Price

Ask three specific questions: **What budget line item would this come out of?** (reveals the economic buyer). **If this product disappeared tomorrow, what would you do instead?** (reveals your true competitive alternative -- your pricing anchor). **What would make this 10x more valuable?** (reveals the axis of value for tiering).

##### Build a Three-Tier Structure

**Starter -- $49/month (self-serve, credit card, no human interaction).** Full core product, limits based on usage volume -- not features. This is your product lead's win: fast adoption, low friction, data generation.

**Team -- $149-$249/month (self-serve with optional onboarding call).** 5-15 seats with team collaboration features, priority support, API access. Should feel like the obvious choice for any serious team.

**Enterprise -- Custom pricing starting at $500/month (sales-assisted).** SSO, SAML, audit logs, SLAs, white-glove onboarding. This is your investors' win: high ACV, sticky contracts, strong retention.

The self-serve tiers fund your growth engine while the enterprise tier funds your margins.

##### Price on Value, Not on Competitors

Don't price at $29. You have 30 users who love the product, which means you have pricing power. Starting too low is one of the most common and destructive mistakes. It is psychologically nearly impossible to raise prices 5x later. Low prices attract low-value customers who churn faster. B2B buyers equate price with quality. You should be hearing "that's a bit expensive" from about 20-30% of prospects -- that's the sweet spot.

##### Structure the Go-to-Market to Let the Tiers Work Together

Top of funnel is 100% self-serve. Product-qualified leads get a human touch when they hit usage limits or add team members. Enterprise deals close on top of proven value -- "your team is already getting value, let me show you what this looks like rolled out across the org." This is the Slack, Figma, Datadog playbook.

##### Commit to Repricing Every 90 Days for the First Year

Review conversion rates, upgrade rates, win rates on enterprise deals, and churn by tier. Don't be afraid to change pricing on new customers while grandfathering existing ones.

**Recommendation:** Spend 70% of effort on self-serve experience, 30% on manually closing enterprise deals that come from self-serve usage. After 12 months, let real data decide whether to shift the balance.
</script>

<script type="text/markdown" id="p4b">
#### The Pricing Decision Behind the Pricing Decision

##### What's Actually Known -- and What Isn't

**Facts:** 30 beta users validated the product and report high satisfaction. Competitive landscape spans $29 to $500+, signaling a fragmented market with distinct segments. Two internal stakeholders have opposing strategies. You have not yet charged anyone real money.

**Dangerous assumptions:**
- That "love the product" equals willingness to pay. Beta users received the product for free, likely with extra attention from founders. Their enthusiasm is not price-validated.
- That competitor prices tell you where *your* product belongs. They tell you where *their* products belong given *their* cost structures and positioning.
- That "upmarket" and "self-serve" are mutually exclusive. This is the most damaging assumption in the entire discussion.
- That 30 beta users constitute sufficient signal to commit to a pricing architecture.

**The single most important ground truth:** You do not yet have pricing data -- you have product data. These require different analyses.

##### Non-Obvious Risks

**The Investor-Driven Enterprise Trap.** You go upmarket, hire two AEs, build a demo flow, and discover your sales cycle is 90+ days. Burn rate doubles. Two deals in six months. Revenue concentration risk. This is the most common death pattern for seed-stage companies that go enterprise before achieving product-market fit *at that price point*.

**The Self-Serve Graveyard.** You launch $49/mo, get 200 signups, and discover that 180 churn within 60 days because B2B products almost always require some activation energy that pure self-serve cannot deliver.

**The Compromise Tax.** You try both simultaneously, spreading engineering across self-serve onboarding flows AND white-glove implementation, and go-to-market across inbound AND outbound. You do both poorly. This is the failure mode nobody warns about because it looks like the "smart" answer.

**The non-obvious risk:** The real danger is choosing the wrong *feedback loop*. Price is a mechanism for learning. If enterprise cycles take six months to tell you something is wrong, you're trading learning speed for the appearance of sophistication.

##### Questions That Reframe the Decision

- **"What if pricing is not a decision but an experiment?"** Design a pricing *learning system* -- a 90-day structured test -- not a permanent architecture.
- **"What does our product actually cost to support per customer?"** If cost-to-serve is $5/mo, self-serve at $49 works. If $200/mo because setup requires hands-on work, you *must* charge enterprise prices regardless of philosophy.
- **"Who are the 30 beta users, specifically?"** If mid-market ops managers, the enterprise advice is misaligned. If VPs at Fortune 500 companies, the self-serve instinct is misaligned. The composition of your beta cohort is the most important input nobody is discussing.
- **"What would make this decision reversible?"** Lowering price is easy. Raising is hard. Switching enterprise to self-serve is a complete rebuild. This asymmetry should inform sequencing.

##### Practical Recommendation

1. **Run a Willingness-to-Pay study** (Van Westendorp or Gabor-Granger) with your 30 beta users. Takes two weeks.
2. **Launch with a single tier at $99-$149/mo with light-touch onboarding.** Expensive enough to attract serious buyers, cheap enough to close without a full enterprise sales cycle. The 30-minute setup call gives you customer contact without enterprise overhead.
3. **Instrument everything.** Activation rates, time-to-value, support tickets per customer, expansion signals.
4. **After 90 days and 50-100 customers,** expand up or down based on data. If activation is high and support low, add self-serve below. If customers ask for SSO and audit logs, build enterprise above.
5. **Give investors the narrative they need without the commitment they want:** "We're starting at mid-market to validate unit economics before investing in enterprise sales infrastructure."

##### Where This Analysis Might Be Wrong

- **Biased toward caution and incrementalism.** If your product is genuinely category-defining, starting at $99-$149 leaves money on the table and sends a weak positioning signal.
- **The "do not do both" advice may be wrong.** Companies like Notion and Airtable ran hybrid motions early -- but with significantly more funding.
- **Assumes a stable competitive landscape.** If a well-funded competitor is about to launch a free tier, the self-serve argument becomes existential.

**Bottom line:** Pricing should be treated as the first experiment of your go-to-market, not a permanent architectural decision. Design for learning speed, not theoretical optimality.
</script>

<script type="text/markdown" id="p5a">
#### Navigating the Return-to-Office Decision Without Losing Your Best People

##### Start With the Actual Problem, Not the Proposed Solution

Before you entertain the 3-day mandate, interrogate what your team leads are actually telling you. They say collaboration and mentorship have suffered. That's the problem. "Three days in office" is their proposed solution, but it's not the only one.

Sit down individually with each team lead and ask pointed questions: What specific collaboration failures have you observed? Which projects suffered? Which junior employees are not developing at the rate you'd expect? Get concrete examples, not vibes. You may find that some concerns are legitimate and some are rooted in a preference for management-by-presence rather than management-by-outcomes.

##### Acknowledge the Constraints You Cannot Wish Away

**The relocation reality.** Roughly 12 of your 40 people moved to different cities. A 3-day mandate is not an inconvenience for them; it's a termination notice with extra steps. You will lose most of them fast, because the job market for skilled remote workers remains strong.

**The performance reality.** Several of your best performers are fully remote. This fact alone undermines the argument that remote work is degrading output. If your top performers thrive remotely, the problem isn't remote work -- it's that remote work requires different management practices.

**The recruiting reality.** Your last 10 hires accepted offers at least partly because of the remote-first policy. Changing that policy signals organizational instability and broken promises.

##### Design a Policy That Solves the Real Problems

**Establish a rhythm of intentional in-person time.** Rather than arbitrary days per week, create structured gatherings: quarterly all-hands of 2-3 days for the entire company; monthly team-specific gatherings of 1-2 days for deep collaboration. Company covers travel and accommodations for relocated employees.

**Fix mentorship directly.** Pair junior employees with senior mentors with explicit expectations: weekly one-on-ones, monthly skill assessments, quarterly career development conversations. Between gatherings, use video pairing, screen sharing, and asynchronous feedback loops.

**Create optional co-working for local employees** who prefer working in-person.

##### Have the Harder Conversation With Your Team Leads

Managing distributed teams is no longer a niche skill -- it's baseline competency. If a team lead cannot develop a junior employee without sitting next to them, that's a development gap in the team lead, not an argument for restructuring the company. Provide training on async communication, remote team management, and distributed mentorship.

##### Communicate With Transparency

Share what you heard, what you considered, what you're doing instead, what you expect from everyone, and how you'll measure success. Revisit in six months with data.

##### The Bottom Line

At 40 people, you cannot afford to lose even 3-4 strong performers over a policy decision. A mandate causing 10-15% attrition among your best people will do far more damage than remote work ever did. Solve the specific problems, invest in management capabilities, and bring people together with intention rather than a calendar mandate that treats presence as a proxy for productivity.
</script>

<script type="text/markdown" id="p5b">
#### Separating Facts from Narratives in the Work Location Debate

##### What's Actually Known

**Facts:** 40-person company, fully remote for ~3 years. Some (not all) team leads want 3 days/week in-office. 30% (~12 people) have relocated and physically cannot comply. Several top performers are fully remote. Last 10 hires (25% of the company) were recruited under a remote-first promise. The company has survived -- and apparently hired aggressively -- while fully remote.

**What is narrative, not fact:**
- "Collaboration and mentorship have suffered" -- this is a claim from team leads, not a measured outcome. Have you seen declining product quality? Slower shipping? Higher junior attrition? Or do managers simply *feel* less connected? These are different problems with different solutions.
- The assumption that physical co-location *causes* better mentorship. It can. It also frequently doesn't. The question is whether anyone has built deliberate mentorship structures, or whether they are hoping proximity will do the work for them.

**The hard truth no one is saying aloud:** A 3-day mandate is functionally a decision to force out 30% of your workforce and break a promise to your most recent hires. That is not a side effect of the policy -- it *is* the policy.

##### Risks People Underestimate

**Mandate-and-lose scenario:** Your 12 relocated employees begin job searching immediately. You lose 8-15 people over 6 months. At 40 people, that's 20-37% turnover. Replacement cost per knowledge worker runs 100-200% of annual salary.

**Quiet compliance, loud resentment:** Even employees who *can* come in may not want to. You get bodies in seats but lose discretionary effort. Culture degrades faster than under remote work.

**The "do nothing" failure:** Ignoring the team leads entirely also carries cost. Junior employees suffer in silence -- they plateau, then leave. Slower and less visible, but real.

**The compromise trap:** A "1 day per week" or "team choice" policy sounds reasonable but creates coordination chaos. Office empty Mondays and Fridays, crowded Wednesdays. Nobody gets the collaboration benefit. You pay for an expensive co-working lounge.

##### Questions That Change the Debate

- **"What specific, measurable problem are we solving?"** If team leads cannot articulate beyond "it feels worse," you're making a major decision based on vibes.
- **"Are we trying to fix a management problem with a real estate solution?"** Poor mentorship in remote settings is usually a process failure, not a proximity failure.
- **"Who benefits most from this mandate, and who bears the cost?"** Often, push comes from senior leaders who own homes near the office and miss managing by walking around. Cost falls on those with long commutes, caregiving responsibilities, or who relocated in good faith.
- **"What would we do if we had no office at all?"** Forces you to design collaboration deliberately rather than hoping proximity produces it.

##### What Works at This Scale

Companies in the 30-60 person range that navigate this well adopt a structured-gathering model: quarterly or monthly in-person sprints (2-3 days) with intentional agendas, relocation stipends for attendees, deliberate mentorship programs with scheduled pairing, and team-level autonomy on synchronous hours.

This addresses the real problems (connection, mentorship, alignment) without triggering the catastrophic retention risks of a mandate.

##### Where This Analysis Might Be Wrong

- **This leans toward preserving remote work.** That bias should be named.
- **If the company is genuinely underperforming** and remote work is a contributing factor, retention risk must be weighed against organizational survival.
- **If the team leads pushing for in-office represent the institutional backbone** -- the people who carry culture, close deals, or own critical systems -- their dissatisfaction may be more dangerous than losing relocated employees. Not all attrition is equal.
- **If "several best performers are remote" masks that most average and below-average performers are also remote,** the signal is weaker than it appears.
- **The assumption that structured programs can replace organic connection** may be partially wrong.

**The belief worth abandoning:** that there is a single "right call." This is a tradeoff decision with real costs on every path. The goal is to choose the tradeoff you can live with and execute with clarity.

**Recommended path:** Conduct rapid anonymous diagnostic, identify specific problems, implement structured solutions first, institute quarterly in-person gatherings, revisit in 6 months with data.
</script>

<!-- ================================================ -->
<!-- APP                                              -->
<!-- ================================================ -->

<div id="app" class="max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12"></div>

<script>
// ============================================
// DATA
// ============================================
const PAIRS = [
  {
    id: 1, slug: 'team-scaling', topic: 'Scaling from 15 to 50 People',
    topicDescription: 'Your startup just raised a $25M Series B with 15 employees. The board wants you to triple headcount to 50 within 18 months to hit aggressive growth targets. Your co-founder argues you should hire fast to capture market share while you have runway. Your VP of Engineering warns that rapid hiring will destroy velocity and culture. How do you approach this scaling decision?',
    responses: {
      A: { identity: 'organic', content: document.getElementById('p1a').textContent },
      B: { identity: 'think', content: document.getElementById('p1b').textContent }
    },
    aiJudge: { insight: 'B', risk: 'B', decision: 'both', gap: 'clear', winner: 'think' }
  },
  {
    id: 2, slug: 'build-vs-buy', topic: 'Build vs Buy',
    topicDescription: 'Our team keeps hitting the same debate: should we build our own solution or use a third-party service? Recent examples include authentication (roll our own vs Auth0/Clerk), email delivery (custom SMTP vs SendGrid), and search (Elasticsearch cluster vs Algolia). We\'re a 15-person engineering team at a Series B startup. How do you create a decision framework for build vs buy that the whole team can align on?',
    responses: {
      A: { identity: 'organic', content: document.getElementById('p2a').textContent },
      B: { identity: 'think', content: document.getElementById('p2b').textContent }
    },
    aiJudge: { insight: 'B', risk: 'B', decision: 'A', gap: 'marginal', winner: 'think' }
  },
  {
    id: 3, slug: 'when-to-pivot', topic: 'When to Pivot Your Product',
    topicDescription: 'Your B2B SaaS product has 200 paying customers generating $40K MRR, but growth has flatlined for 3 quarters despite consistent product improvements and marketing spend. Meanwhile, a feature you built as an afterthought is generating unexpected inbound interest from a completely different market segment. Your team is split: half wants to double down, half wants to pivot. How do you make this decision?',
    responses: {
      A: { identity: 'organic', content: document.getElementById('p3a').textContent },
      B: { identity: 'think', content: document.getElementById('p3b').textContent }
    },
    aiJudge: { insight: 'B', risk: 'B', decision: 'both', gap: 'clear', winner: 'think' }
  },
  {
    id: 4, slug: 'saas-pricing', topic: 'Pricing a B2B SaaS Product',
    topicDescription: 'You\'re launching a B2B SaaS product after validating with 30 beta users who love the product. Competitors range from $29/month self-serve to $500+/month enterprise. Your investors want you to go upmarket with fewer, bigger deals and white-glove onboarding. Your product lead wants a self-serve model optimizing for speed of adoption. How do you design your pricing strategy?',
    responses: {
      A: { identity: 'organic', content: document.getElementById('p4a').textContent },
      B: { identity: 'think', content: document.getElementById('p4b').textContent }
    },
    aiJudge: { insight: 'B', risk: 'B', decision: 'both', gap: 'clear', winner: 'think' }
  },
  {
    id: 5, slug: 'remote-hybrid-office', topic: 'Remote, Hybrid, or Return to Office',
    topicDescription: 'Your 40-person company went fully remote during COVID three years ago. Now some team leads are pushing hard to mandate 3 days per week in-office, saying collaboration and mentorship have suffered. But 30% of your employees relocated, several of your best performers are fully remote, and your last 10 hires were attracted by the remote-first policy. How do you make the right call without losing key people?',
    responses: {
      A: { identity: 'organic', content: document.getElementById('p5a').textContent },
      B: { identity: 'think', content: document.getElementById('p5b').textContent }
    },
    aiJudge: { insight: 'B', risk: 'B', decision: 'B', gap: 'clear', winner: 'think' }
  }
];

const QUESTIONS = [
  { key: 'insight', label: 'Novel Insight', question: 'Which response surfaced something you hadn\'t considered?', options: ['A', 'B', 'both', 'neither'] },
  { key: 'risk', label: 'Risk Coverage', question: 'Which identified a risk you would have missed?', options: ['A', 'B', 'both', 'neither'] },
  { key: 'decision', label: 'Decision Impact', question: 'Which would change what you actually do?', options: ['A', 'B', 'both', 'neither'] },
  { key: 'gap', label: 'Gap Size', question: 'How large is the quality gap between them?', options: ['no-gap', 'marginal', 'clear', 'decisive'] }
];

const OPTION_LABELS = { 'A': 'Response A', 'B': 'Response B', 'both': 'Both', 'neither': 'Neither', 'no-gap': 'No gap', 'marginal': 'Marginal', 'clear': 'Clear', 'decisive': 'Decisive' };

const FEEDBACK_TAGS = ['More actionable', 'Better risks', 'More concise', 'Better structured', 'Deeper analysis', 'More practical'];

// ============================================
// STATE
// ============================================
const STATE_VERSION = 2; // Increment when content changes to reset old state
let state = { version: STATE_VERSION, page: 'intro', currentPair: 0, demographics: {}, votes: {}, activeTab: {}, feedback: { pairs: {}, overall: '', submitted: false } };

function loadState() {
  try {
    const saved = localStorage.getItem('blind-test-state');
    if (saved) {
      const s = JSON.parse(saved);
      if (s.version === STATE_VERSION) { Object.assign(state, s); }
      else { localStorage.removeItem('blind-test-state'); }
    }
  } catch(e) {}
}

function saveState() {
  try { localStorage.setItem('blind-test-state', JSON.stringify(state)); } catch(e) {}
}

// ============================================
// RENDER
// ============================================
const app = document.getElementById('app');

function render() {
  if (state.page === 'intro') renderIntro();
  else if (state.page === 'judging') renderPair();
  else if (state.page === 'results') renderResults();
  saveState();
}

function renderIntro() {
  app.innerHTML = `
    <div class="max-w-2xl mx-auto anim-fade">
      <div class="mb-8">
        <p class="text-sm font-medium text-blue-400 mb-3 tracking-wide uppercase">Blind A/B Comparison</p>
        <h1 class="text-3xl sm:text-4xl font-bold leading-tight mb-4">Can Structured Thinking Make AI Reason Better?</h1>
        <p class="text-surface-400 text-lg leading-relaxed">We built a thinking framework and tested it blind. You be the judge.</p>
      </div>

      <div class="space-y-4 text-surface-300 leading-relaxed mb-8">
        <p>We created a structured thinking skill (<strong class="text-surface-100">/think</strong>) for Claude Code that applies a 5-element analysis framework to business and strategy problems.</p>
        <p>To test if it actually helps, we ran blind comparisons: <strong class="text-surface-100">same AI, same model, same topic</strong> &mdash; one response used the framework, one didn't.</p>
        <p>The responses below are anonymized. Framework markers stripped. Sections retitled by content. <strong class="text-surface-100">You read both and judge which is better.</strong></p>
      </div>

      <div class="bg-surface-900/50 border border-surface-800 rounded-lg p-4 mb-8 text-sm text-surface-400">
        <strong class="text-surface-300">Time estimate:</strong> Each pair takes ~3 minutes to read. 5 pairs total. ~15 minutes.
      </div>

      <div class="bg-surface-900/50 border border-surface-800 rounded-lg p-5 mb-8">
        <p class="text-sm font-medium text-surface-300 mb-4">Optional: Tell us about yourself</p>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-xs text-surface-500 mb-1.5">Years of professional experience</label>
            <select id="demo-exp" class="w-full bg-surface-800 border border-surface-700 rounded-md px-3 py-2 text-sm text-surface-200 focus:outline-none focus:border-blue-500">
              <option value="">Prefer not to say</option>
              <option value="<2">Under 2</option>
              <option value="2-5">2 - 5</option>
              <option value="5-10">5 - 10</option>
              <option value="10-20">10 - 20</option>
              <option value="20+">20+</option>
            </select>
          </div>
          <div>
            <label class="block text-xs text-surface-500 mb-1.5">Primary role</label>
            <select id="demo-role" class="w-full bg-surface-800 border border-surface-700 rounded-md px-3 py-2 text-sm text-surface-200 focus:outline-none focus:border-blue-500">
              <option value="">Prefer not to say</option>
              <option value="engineering">Engineering / Development</option>
              <option value="product">Product Management</option>
              <option value="founder">Founder / CEO</option>
              <option value="leadership">VP / Director / C-Suite</option>
              <option value="operations">Operations / Strategy</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>
      </div>

      <button onclick="startJudging()" class="w-full sm:w-auto px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors text-sm">
        Start Judging &rarr;
      </button>

      <p class="mt-6 text-xs text-surface-600">All responses generated by Claude Opus 4.6. No cherry-picking. <a href="https://github.com/bengiaventures/effective-thinking-skill" target="_blank" class="text-surface-500 hover:text-surface-400 underline">Source &amp; methodology</a></p>
    </div>
  `;
  if (state.demographics.experience) document.getElementById('demo-exp').value = state.demographics.experience;
  if (state.demographics.role) document.getElementById('demo-role').value = state.demographics.role;
}

function renderPair() {
  const pair = PAIRS[state.currentPair];
  const votes = state.votes[pair.id] || {};
  const tab = state.activeTab[pair.id] || 'A';
  const allAnswered = QUESTIONS.every(q => votes[q.key]);

  const renderContent = (label) => {
    const md = pair.responses[label].content;
    return marked.parse(md);
  };

  app.innerHTML = `
    <div class="anim-fade">
      <!-- Progress -->
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-3">
          ${state.currentPair > 0 ? `<button onclick="prevPair()" class="text-sm text-surface-500 hover:text-surface-300 transition-colors">&larr; Previous</button>` : '<span></span>'}
        </div>
        <div class="flex items-center gap-2">
          ${PAIRS.map((_, i) => `<div class="w-2 h-2 rounded-full ${i === state.currentPair ? 'bg-blue-500' : i < state.currentPair ? 'bg-blue-500/40' : 'bg-surface-700'}"></div>`).join('')}
          <span class="text-xs text-surface-500 ml-2">Pair ${state.currentPair + 1} of ${PAIRS.length}</span>
        </div>
      </div>

      <!-- Topic -->
      <div class="bg-surface-900/60 border border-surface-800 rounded-lg p-4 sm:p-5 mb-6">
        <p class="text-xs font-medium text-surface-500 mb-1 uppercase tracking-wide">The Question Asked</p>
        <p class="text-sm font-semibold text-surface-100 mb-2">${pair.topic}</p>
        <p class="text-surface-300 text-sm leading-relaxed">${pair.topicDescription}</p>
      </div>

      <!-- Responses: Tabs on mobile, side-by-side on desktop -->
      <div class="lg:hidden flex border-b border-surface-800 mb-4">
        <button onclick="switchTab('${pair.id}', 'A')" class="tab-btn flex-1 py-2.5 text-sm font-medium text-center border-b-2 ${tab === 'A' ? 'active text-surface-100 border-blue-500' : 'text-surface-500 border-transparent hover:text-surface-300'}">Response A</button>
        <button onclick="switchTab('${pair.id}', 'B')" class="tab-btn flex-1 py-2.5 text-sm font-medium text-center border-b-2 ${tab === 'B' ? 'active text-surface-100 border-blue-500' : 'text-surface-500 border-transparent hover:text-surface-300'}">Response B</button>
      </div>

      <div class="lg:grid lg:grid-cols-2 lg:gap-5 mb-8">
        <div class="${tab !== 'A' ? 'hidden lg:block' : ''}">
          <div class="hidden lg:block text-xs font-semibold text-orange-400 uppercase tracking-wider mb-2">Response A</div>
          <div class="response-col bg-surface-900/40 border border-surface-800 rounded-lg p-4 sm:p-5">
            <div class="prose">${renderContent('A')}</div>
          </div>
        </div>
        <div class="${tab !== 'B' ? 'hidden lg:block' : ''}">
          <div class="hidden lg:block text-xs font-semibold text-purple-400 uppercase tracking-wider mb-2">Response B</div>
          <div class="response-col bg-surface-900/40 border border-surface-800 rounded-lg p-4 sm:p-5">
            <div class="prose">${renderContent('B')}</div>
          </div>
        </div>
      </div>

      <!-- Questions -->
      <div class="space-y-5 mb-8">
        ${QUESTIONS.map(q => `
          <div class="anim-fade">
            <p class="text-sm font-medium text-surface-200 mb-2.5">${q.question}</p>
            <div class="flex flex-wrap gap-2">
              ${q.options.map(opt => `
                <button onclick="selectAnswer(${pair.id}, '${q.key}', '${opt}')"
                  class="option-btn px-4 py-2 text-sm rounded-md border ${votes[q.key] === opt ? 'selected border-blue-500/50' : 'border-surface-700 text-surface-400'}">
                  ${OPTION_LABELS[opt]}
                </button>
              `).join('')}
            </div>
          </div>
        `).join('')}
      </div>

      <!-- Next button -->
      <div class="flex justify-end">
        <button onclick="nextPair()" ${!allAnswered ? 'disabled' : ''}
          class="px-6 py-2.5 text-sm font-medium rounded-lg transition-colors ${allAnswered ? 'bg-blue-600 hover:bg-blue-500 text-white' : 'bg-surface-800 text-surface-600 cursor-not-allowed'}">
          ${state.currentPair < PAIRS.length - 1 ? 'Next Pair &rarr;' : 'See Results &rarr;'}
        </button>
      </div>
    </div>
  `;
}

function renderResults() {
  let thinkWins = 0, organicWins = 0, ties = 0;

  const pairResults = PAIRS.map(pair => {
    const votes = state.votes[pair.id] || {};
    let pairThink = 0, pairOrganic = 0;

    ['insight', 'risk', 'decision'].forEach(key => {
      const v = votes[key];
      if (v === 'A') { if (pair.responses.A.identity === 'think') pairThink++; else pairOrganic++; }
      else if (v === 'B') { if (pair.responses.B.identity === 'think') pairThink++; else pairOrganic++; }
    });

    let winner = 'tie';
    if (pairThink > pairOrganic) { winner = 'think'; thinkWins++; }
    else if (pairOrganic > pairThink) { winner = 'organic'; organicWins++; }
    else { ties++; }

    return { pair, votes, winner, pairThink, pairOrganic };
  });

  app.innerHTML = `
    <div class="max-w-3xl mx-auto anim-fade">
      <div class="mb-8">
        <p class="text-sm font-medium text-blue-400 mb-2 tracking-wide uppercase">Results</p>
        <h2 class="text-2xl sm:text-3xl font-bold mb-3">The Reveal</h2>
        <p class="text-surface-400">Here's how you voted &mdash; and which response used the /think framework.</p>
      </div>

      <!-- Summary -->
      <div class="bg-surface-900/60 border border-surface-800 rounded-lg p-5 mb-8">
        <div class="grid grid-cols-3 gap-4 text-center">
          <div>
            <div class="text-2xl font-bold text-green-400">${thinkWins}</div>
            <div class="text-xs text-surface-500 mt-1">/think wins</div>
          </div>
          <div>
            <div class="text-2xl font-bold text-blue-400">${organicWins}</div>
            <div class="text-xs text-surface-500 mt-1">organic wins</div>
          </div>
          <div>
            <div class="text-2xl font-bold text-surface-500">${ties}</div>
            <div class="text-xs text-surface-500 mt-1">ties</div>
          </div>
        </div>
        <div class="mt-4 pt-4 border-t border-surface-800 text-center text-sm text-surface-400">
          AI judge scored: <strong class="text-surface-200">/think 5, organic 0, tie 0</strong>
        </div>
      </div>

      <!-- Per-pair results -->
      <div class="space-y-4 mb-10">
        ${pairResults.map((r, idx) => {
          const v = r.votes;
          const identityA = r.pair.responses.A.identity;
          const identityB = r.pair.responses.B.identity;
          const labelA = identityA === 'think' ? '/think framework' : 'organic Claude';
          const labelB = identityB === 'think' ? '/think framework' : 'organic Claude';
          const badgeA = identityA === 'think' ? 'badge-think' : 'badge-organic';
          const badgeB = identityB === 'think' ? 'badge-think' : 'badge-organic';

          return `
          <div class="bg-surface-900/40 border border-surface-800 rounded-lg p-5 anim-fade anim-delay-${Math.min(idx, 3)}">
            <div class="flex items-start justify-between mb-3">
              <div>
                <p class="font-semibold text-surface-100">${r.pair.topic}</p>
                <p class="text-xs text-surface-500 mt-0.5">Pair ${idx + 1}</p>
              </div>
              <div class="text-right">
                ${r.winner === 'think' ? '<span class="reveal-badge badge-think">You picked /think</span>' :
                  r.winner === 'organic' ? '<span class="reveal-badge badge-organic">You picked organic</span>' :
                  '<span class="reveal-badge" style="background:rgba(255,255,255,0.05);color:#a1a1aa;border:1px solid rgba(255,255,255,0.1)">Tie</span>'}
              </div>
            </div>

            <div class="flex flex-wrap gap-3 mb-3 text-sm">
              <div><span class="text-orange-400 font-medium">Response A</span> = <span class="reveal-badge ${badgeA}">${labelA}</span></div>
              <div><span class="text-purple-400 font-medium">Response B</span> = <span class="reveal-badge ${badgeB}">${labelB}</span></div>
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs">
              ${['insight', 'risk', 'decision'].map(key => {
                const val = v[key];
                const label = val === 'A' ? 'A' : val === 'B' ? 'B' : val === 'both' ? 'Both' : 'Neither';
                const cls = val === 'A' ? 'pill-a' : val === 'B' ? 'pill-b' : 'pill-tie';
                const qLabel = QUESTIONS.find(q => q.key === key).label;
                return `<div><span class="text-surface-500">${qLabel}:</span> <span class="vote-pill ${cls}">${label}</span></div>`;
              }).join('')}
              <div><span class="text-surface-500">Gap:</span> <span class="vote-pill pill-tie">${OPTION_LABELS[v.gap] || '?'}</span></div>
            </div>

            <div class="mt-3 pt-3 border-t border-surface-800/50 text-xs text-surface-500">
              AI judge: ${r.pair.aiJudge.winner === 'think' ? '<span class="text-green-400">/think won</span>' : r.pair.aiJudge.winner === 'organic' ? '<span class="text-blue-400">organic won</span>' : '<span class="text-surface-400">tie</span>'}
              (gap: ${r.pair.aiJudge.gap})
            </div>
          </div>`;
        }).join('')}
      </div>

      <!-- Feedback -->
      <div class="bg-gradient-to-b from-surface-900/80 to-surface-900/40 border border-surface-800 rounded-lg p-5 mb-8">
        ${state.feedback.submitted ? `
          <div class="text-center py-4">
            <p class="text-green-400 font-medium mb-1">Thanks for your feedback!</p>
            <p class="text-sm text-surface-500">It will be reviewed and used to improve /think's reasoning patterns.</p>
          </div>
        ` : `
          <h3 class="font-semibold text-surface-100 mb-1">Help Improve the Framework</h3>
          <p class="text-sm text-surface-400 mb-5">Your feedback directly shapes how /think reasons. What made the difference?</p>

          <div class="space-y-3 mb-5">
            ${pairResults.map(r => {
              const fb = (state.feedback.pairs && state.feedback.pairs[r.pair.id]) || { tags: [] };
              return `
              <div>
                <p class="text-xs font-medium text-surface-400 mb-1.5">${r.pair.topic}</p>
                <div class="flex flex-wrap gap-1.5">
                  ${FEEDBACK_TAGS.map(tag => `
                    <button onclick="toggleFeedbackTag(${r.pair.id}, '${tag}')"
                      class="px-2.5 py-1 text-xs rounded-full border transition-all ${fb.tags.includes(tag) ? 'bg-blue-500/15 border-blue-500/40 text-blue-300' : 'border-surface-700 text-surface-500 hover:text-surface-300 hover:border-surface-600'}">
                      ${tag}
                    </button>
                  `).join('')}
                </div>
              </div>`;
            }).join('')}
          </div>

          <div class="mb-5">
            <label class="block text-sm text-surface-400 mb-1.5">What would improve AI reasoning for you? <span class="text-surface-600">(optional)</span></label>
            <textarea id="feedback-overall" onblur="updateOverallFeedback(this.value)"
              class="w-full bg-surface-800/80 border border-surface-700 rounded-md px-3 py-2 text-sm text-surface-200 placeholder-surface-600 focus:outline-none focus:border-blue-500/50 resize-none"
              rows="2" maxlength="1000" placeholder="e.g. 'More concrete next steps', 'Less hedging', 'Show tradeoffs more clearly'">${state.feedback.overall || ''}</textarea>
          </div>

          <div class="flex flex-wrap gap-2.5">
            <button onclick="submitToGithub()" class="px-4 py-2 text-sm font-medium bg-surface-800 border border-surface-700 rounded-lg text-surface-200 hover:bg-surface-700/50 hover:border-surface-600 transition-colors">
              Submit via GitHub &rarr;
            </button>
            <button onclick="copyFeedback()" class="px-4 py-2 text-sm border border-surface-800 rounded-lg text-surface-500 hover:text-surface-300 hover:border-surface-700 transition-colors">
              Copy as JSON
            </button>
          </div>
          <p class="text-xs text-surface-600 mt-2.5">Opens a pre-filled GitHub issue for transparency. Your votes and tags are included.</p>
        `}
      </div>

      <!-- What is /think -->
      <div class="bg-surface-900/40 border border-surface-800 rounded-lg p-5 mb-8">
        <h3 class="font-semibold text-surface-100 mb-2">What is /think?</h3>
        <p class="text-sm text-surface-400 leading-relaxed mb-3">
          /think is an open-source Claude Code skill that applies a structured 5-element analysis framework
          (grounding, risk analysis, reframing, tracing implications, and self-critique) before synthesizing recommendations.
          It's a recursive learning agent &mdash; it uses its own framework to evaluate and improve its own thinking over time.
        </p>
        <a href="https://github.com/bengiaventures/effective-thinking-skill" target="_blank"
          class="inline-flex items-center text-sm text-blue-400 hover:text-blue-300 transition-colors">
          View on GitHub &rarr;
        </a>
      </div>

      <!-- Share -->
      <div class="flex flex-wrap gap-3 mb-8">
        <button onclick="copyLink()" class="px-4 py-2 text-sm border border-surface-700 rounded-lg text-surface-300 hover:text-surface-100 hover:border-surface-600 transition-colors">
          Copy link
        </button>
        <button onclick="resetTest()" class="px-4 py-2 text-sm border border-surface-700 rounded-lg text-surface-300 hover:text-surface-100 hover:border-surface-600 transition-colors">
          Start over
        </button>
      </div>

      <p class="text-xs text-surface-600 mb-4">Built with Claude Code. Part of a <a href="https://github.com/bengiaventures/effective-thinking-skill" target="_blank" class="underline hover:text-surface-500">pre-registered study</a> on whether structured prompting improves AI reasoning.</p>
      <p class="text-xs text-surface-600">Everything is free and open source. If this was useful, <a href="https://patreon.com/Bengia" target="_blank" class="text-surface-400 hover:text-surface-300 underline">donating on Patreon</a> helps support the work.</p>
    </div>
  `;
}

// ============================================
// EVENT HANDLERS
// ============================================
function startJudging() {
  const exp = document.getElementById('demo-exp');
  const role = document.getElementById('demo-role');
  if (exp) state.demographics.experience = exp.value;
  if (role) state.demographics.role = role.value;
  state.page = 'judging';
  state.currentPair = 0;
  render();
  window.scrollTo(0, 0);
}

function selectAnswer(pairId, question, value) {
  if (!state.votes[pairId]) state.votes[pairId] = {};
  state.votes[pairId][question] = value;
  render();
}

function switchTab(pairId, tab) {
  state.activeTab[pairId] = tab;
  render();
}

function nextPair() {
  if (state.currentPair < PAIRS.length - 1) {
    state.currentPair++;
    render();
    window.scrollTo(0, 0);
  } else {
    state.page = 'results';
    render();
    window.scrollTo(0, 0);
  }
}

function prevPair() {
  if (state.currentPair > 0) {
    state.currentPair--;
    render();
    window.scrollTo(0, 0);
  }
}

function copyLink() {
  navigator.clipboard.writeText(window.location.href).then(() => {
    const btn = event.target;
    const original = btn.textContent;
    btn.textContent = 'Copied!';
    setTimeout(() => btn.textContent = original, 2000);
  });
}

function resetTest() {
  if (confirm('This will clear all your votes. Continue?')) {
    state = { page: 'intro', currentPair: 0, demographics: {}, votes: {}, activeTab: {} };
    localStorage.removeItem('blind-test-state');
    render();
    window.scrollTo(0, 0);
  }
}

// ============================================
// FEEDBACK
// ============================================
function toggleFeedbackTag(pairId, tag) {
  if (!state.feedback) state.feedback = { pairs: {}, overall: '', submitted: false };
  if (!state.feedback.pairs[pairId]) state.feedback.pairs[pairId] = { tags: [] };
  const tags = state.feedback.pairs[pairId].tags;
  const idx = tags.indexOf(tag);
  if (idx >= 0) tags.splice(idx, 1);
  else if (tags.length < 3) tags.push(tag);
  const ta = document.getElementById('feedback-overall');
  if (ta) state.feedback.overall = ta.value;
  render();
}

function updateOverallFeedback(value) {
  if (!state.feedback) state.feedback = { pairs: {}, overall: '', submitted: false };
  state.feedback.overall = value.slice(0, 1000);
  saveState();
}

function sanitizeFeedback(text) {
  return text.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/```/g, '').trim();
}

function generateFeedbackBody() {
  const demo = state.demographics;
  let tw = 0, ow = 0, ti = 0;
  const pairRows = PAIRS.map((pair, i) => {
    const votes = state.votes[pair.id] || {};
    let ts = 0, os = 0;
    ['insight', 'risk', 'decision'].forEach(key => {
      const v = votes[key];
      if (v === 'A') { pair.responses.A.identity === 'think' ? ts++ : os++; }
      else if (v === 'B') { pair.responses.B.identity === 'think' ? ts++ : os++; }
    });
    const winner = ts > os ? '/think' : ts < os ? 'organic' : 'tie';
    if (ts > os) tw++; else if (os > ts) ow++; else ti++;
    const gap = OPTION_LABELS[votes.gap] || '?';
    const fb = (state.feedback.pairs && state.feedback.pairs[pair.id]) || { tags: [] };
    const tags = fb.tags.length ? fb.tags.join(', ') : '-';
    return `| ${i+1} | ${pair.topic} | ${winner} | ${gap} | ${tags} |`;
  }).join('\n');

  let body = `## Blind Test Feedback\n\n`;
  body += `**Experience:** ${demo.experience || 'Not provided'} | **Role:** ${demo.role || 'Not provided'}\n\n`;
  body += `### Results\n\n`;
  body += `| # | Topic | Your Pick | Gap | Feedback Tags |\n`;
  body += `|---|-------|-----------|-----|---------------|\n`;
  body += pairRows + '\n\n';
  body += `**Score:** /think ${tw} - ${ow} organic (${ti} ties)\n\n`;
  if (state.feedback.overall) {
    body += `### Overall Feedback\n\n> ${sanitizeFeedback(state.feedback.overall).replace(/\n/g, '\n> ')}\n\n`;
  }
  body += `---\n*Submitted via [Blind Taste Test](${window.location.origin + window.location.pathname}) on ${new Date().toISOString().split('T')[0]}*\n`;
  return body;
}

function submitToGithub() {
  const ta = document.getElementById('feedback-overall');
  if (ta) state.feedback.overall = ta.value.slice(0, 1000);
  const body = generateFeedbackBody();
  const url = `https://github.com/bengiaventures/effective-thinking-skill/issues/new?labels=feedback&title=${encodeURIComponent('Blind Test Feedback')}&body=${encodeURIComponent(body)}`;
  window.open(url, '_blank');
  state.feedback.submitted = true;
  render();
}

function copyFeedback() {
  const ta = document.getElementById('feedback-overall');
  if (ta) state.feedback.overall = ta.value;
  const data = {
    timestamp: new Date().toISOString(),
    demographics: state.demographics,
    votes: state.votes,
    feedback: { pairs: state.feedback.pairs, overall: state.feedback.overall },
    version: 1
  };
  const json = JSON.stringify(data, null, 2);
  const btn = event.target;
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(json).then(() => {
      btn.textContent = 'Copied!';
      setTimeout(() => btn.textContent = 'Copy as JSON', 2000);
    }).catch(() => fallbackCopy(json, btn));
  } else {
    fallbackCopy(json, btn);
  }
}

function fallbackCopy(text, btn) {
  const ta = document.createElement('textarea');
  ta.value = text; ta.style.position = 'fixed'; ta.style.opacity = '0';
  document.body.appendChild(ta); ta.select();
  try { document.execCommand('copy'); btn.textContent = 'Copied!'; }
  catch(e) { btn.textContent = 'Copy failed'; }
  document.body.removeChild(ta);
  setTimeout(() => btn.textContent = 'Copy as JSON', 2000);
}

// ============================================
// INIT
// ============================================
marked.setOptions({ gfm: true, breaks: false });
loadState();
render();
</script>

</body>
</html>
